{"version":3,"file":"index.js","sources":["../src/index.ts"],"sourcesContent":["import type {Metadata} from \"@khanacademy/wonder-stuff-core\";\n\n/**\n * @typedef {Object} Errors utility for referencing the Perseus error taxonomy.\n */\nexport const Errors = Object.freeze({\n    /**\n     * @property {ErrorKind} Unknown The kind of error is not known.\n     */\n    Unknown: \"Unknown\",\n    /**\n     * @property {ErrorKind} Internal The error is internal to the executing code.\n     */\n    Internal: \"Internal\",\n    /**\n     * @property {ErrorKind} InvalidInput There was a problem with the provided\n     * input, such as the wrong format or a null value.\n     */\n    InvalidInput: \"InvalidInput\",\n    /**\n     * @property {ErrorKind} NotAllowed There was a problem due to the state of\n     * the system not matching the requested operation or input. For example,\n     * trying to create a username that is valid, but is already taken by\n     * another user. Use {@link InvalidInput} instead when the input isn't\n     * valid regardless of the state of the system. Use {@link NotFound} when\n     * the failure is due to not being able to find a resource.\n     */\n    NotAllowed: \"NotAllowed\",\n    /**\n     * @property {ErrorKind} TransientService There was a problem when making a\n     * request to a service.\n     */\n    TransientService: \"TransientService\",\n    /**\n     * @property {ErrorKind} Service There was a non-transient problem when\n     * making a request to service.\n     */\n    Service: \"Service\",\n});\n\n/**\n * @type {ErrorKind} The kind of error being reported\n */\nexport type ErrorKind = typeof Errors[keyof typeof Errors];\n\ntype Options = {\n    metadata?: Metadata | null | undefined;\n};\n\nexport class PerseusError extends Error {\n    kind: ErrorKind;\n    metadata: Metadata | null | undefined;\n\n    constructor(message: string, kind: ErrorKind, options?: Options) {\n        super(message);\n        this.kind = kind;\n        this.metadata = options?.metadata;\n    }\n}\n"],"names":["Errors","Object","freeze","Unknown","Internal","InvalidInput","NotAllowed","TransientService","Service","PerseusError","Error","constructor","message","kind","options","_defineProperty","metadata"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;MACaA,MAAM,GAAGC,MAAM,CAACC,MAAM,CAAC;AAChC;AACJ;AACA;AACIC,EAAAA,OAAO,EAAE,SAAS;AAClB;AACJ;AACA;AACIC,EAAAA,QAAQ,EAAE,UAAU;AACpB;AACJ;AACA;AACA;AACIC,EAAAA,YAAY,EAAE,cAAc;AAC5B;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACIC,EAAAA,UAAU,EAAE,YAAY;AACxB;AACJ;AACA;AACA;AACIC,EAAAA,gBAAgB,EAAE,kBAAkB;AACpC;AACJ;AACA;AACA;AACIC,EAAAA,OAAO,EAAE,SAAA;AACb,CAAC,EAAC;;AAEF;AACA;AACA;;AAOO,MAAMC,YAAY,SAASC,KAAK,CAAC;AAIpCC,EAAAA,WAAWA,CAACC,OAAe,EAAEC,IAAe,EAAEC,OAAiB,EAAE;IAC7D,KAAK,CAACF,OAAO,CAAC,CAAA;IAACG,eAAA,CAAA,IAAA,EAAA,MAAA,EAAA,KAAA,CAAA,CAAA,CAAA;IAAAA,eAAA,CAAA,IAAA,EAAA,UAAA,EAAA,KAAA,CAAA,CAAA,CAAA;IACf,IAAI,CAACF,IAAI,GAAGA,IAAI,CAAA;IAChB,IAAI,CAACG,QAAQ,GAAGF,OAAO,aAAPA,OAAO,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAPA,OAAO,CAAEE,QAAQ,CAAA;AACrC,GAAA;AACJ;;;;;"}